"I think PTA related stuff is:
Find and document all heuristics
Clean up warnings
Document PTA overall structure
(adding more detail to this page: https://coderrect-inc.github.io/OpenRace/doc-pta-arch,
fill in the high level workflow of what happens from calling pta.analyze, and describe the big pieces)"


export PATH=$PATH:$HOME/â€¦;
export LLVM_DIR=/home/brad/coderrect-inc/install/lib/cmake/llvm/
export LLVM_INSTALL=/home/brad/llvm-project/install


# Get the source code
git clone https://github.com/coderrect-inc/OpenRace.git
mkdir OpenRace/build && cd OpenRace/build
# Configure build with cmake
cmake \
    -DCMAKE_EXPORT_COMPILE_COMMANDS=ON \
    -DCMAKE_BUILD_TYPE=Debug \
    -DLLVM_INSTALL=/home/brad/llvm-project/install \
    -G Ninja \
    ..

cmake -DENABLE_WARNING=On ..

# Build OpenRace
cmake --build . --parallel
# Check that OpenRace was built
./bin/openrace --help

# export output
cmake --build . --clean-first  >> ../_local/cmakeout2.txt 2>&1


# clang format
clang-format -i -style=file file.cpp
clang-format-11 -i -style=file file.cpp (on server)


cd OpenRace/
find . -iname *.h -o -iname *.cpp | xargs clang-format -i -style=file



# run a specific benchmark in tests
clang -S -emit-llvm -g pthread-simple.c
openrace pthread-simple.ll


# The ll files under tests/data are compiled with these flags:
   -g -O1 -mllvm -disable-llvm-optzns -fno-discard-value-names -fopenmp -S -emit-llvm

The IR also goes through pre-processing at the start of race detection.

# To see the IR that the analysis sees (after pro-processing) you can add
  --dump-ir=file.ll
to openrace to make it print the processed IR to a file named file.ll






https://lists.llvm.org/pipermail/llvm-dev/2015-July/088279.html


# build llvmrace
LLVM_DIR:UNINITIALIZED=/home/brad/coderrect-inc/LLVMRace/build/../../install/lib/cmake/llvm/

I think only difference is you need to
git clone --recurse-submodules

cmake -DCMAKE_CXX_COMPILER=clang++ -DCMAKE_C_COMPILER=clang -DLLVM_DIR=/home/brad/coderrect-inc/LLVMRace/build/../../install/lib/cmake/llvm/ -G Ninja ..